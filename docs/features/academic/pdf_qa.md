# PDF 问答（ChatPDF）

有时候，您不仅仅需要一份论文的概要总结，而是希望深入理解其中的细节——比如某个实验方法的具体步骤、某个公式的推导过程，或者作者为什么做出某种设计选择。GPT Academic 的 PDF 问答功能正是为此而设计：它先让 AI 通读并理解整篇论文，然后您可以像与一位熟读该论文的学术助手对话一样，就任何细节进行追问。

这种交互式的阅读方式类似于知名的 ChatPDF 产品，但集成在 GPT Academic 中，您可以使用自己配置的模型，并与其他功能无缝配合。

---

## 功能特点

与 [批量总结 PDF](pdf_summary.md) 功能的"快速浏览"定位不同，PDF 问答功能专注于**单篇文档的深度理解**：

- **深度解析**：系统会逐段阅读论文，提取每个部分的核心信息并记录在对话历史中
- **上下文保持**：解析完成后，论文内容作为对话上下文保留，后续问答都基于此进行
- **持续追问**：您可以连续提出多个问题，AI 会结合论文内容和之前的对话给出回答
- **中文回答**：默认以中文回答您的问题，即使原论文是英文

---

## 前置条件

### 依赖安装

PDF 问答功能需要 `pymupdf` 库来解析 PDF 文件：

```bash
pip install --upgrade pymupdf
```

### 文件要求

本功能针对**单篇 PDF** 进行深度解析。如果您上传了多个 PDF，系统会选择第一个文件进行处理。对于需要同时处理多个文件的场景，请使用 [批量总结 PDF](pdf_summary.md) 功能。

!!! info "关于文档长度"
    PDF 问答会将论文内容存入对话历史，因此对文档长度有一定限制。如果论文分片数超过 20 个（约对应 50+ 页的长文档），系统会发出警告，此时可能无法达到最佳效果。对于特别长的文档，建议配合使用更大上下文的模型。

---

## 使用方法

### 上传 PDF 文件

首先，将要阅读的 PDF 文件上传到系统中。您可以通过以下方式：

- 将 PDF 文件直接拖拽到文件上传区域
- 点击上传区域选择本地文件
- 在输入框中填写 PDF 文件的本地路径

### 启动解析

1. 在函数插件下拉菜单的 **学术** 分类中找到 **理解PDF文档内容（模仿ChatPDF）**
2. 点击该插件启动解析流程

<!-- IMAGE: feat_pdf_qa_01_workflow.png -->
<!-- 描述: PDF问答功能的操作流程 -->
<!-- 标注: ① 上传的PDF文件 ② "理解PDF文档内容（模仿ChatPDF）"插件位置 ③ 解析进度显示区域 -->
<!-- 尺寸建议: 1000px -->
![PDF问答操作流程](../../images/feat_pdf_qa_01_workflow.png)

### 解析过程

系统会执行以下步骤来"阅读"论文：

1. **文本提取**：使用 PyMuPDF 从 PDF 中提取全部文本内容
2. **元信息识别**：从首页提取论文标题、作者等基本信息
3. **分段理解**：将论文按章节（或按长度）切分，逐段让 AI 提取核心内容
4. **上下文构建**：将所有段落的理解结果整合到对话历史中

解析过程中，您会看到类似以下的进度提示：

```
[1/8] Read this section, recapitulate the content...
[2/8] Read this section, recapitulate the content...
...
```

每个片段处理完成后，AI 会用中文总结该片段的主要内容。

### 开始问答

当您看到提示 **"接下来，你是一名专业的学术教授，利用以上信息，使用中文回答我的问题。"** 时，表示解析完成，论文内容已加载到对话上下文中。

此时，您可以直接在输入框中输入问题，然后点击"提交"按钮（而非插件按钮）进行正常对话。AI 会基于论文内容回答您的问题。

---

## 问答技巧

充分利用 PDF 问答功能的关键在于如何提问。以下是一些实用建议：

**具体化您的问题**：与其问"这篇论文讲了什么"，不如问"这篇论文的主要创新点是什么"或"作者在实验部分使用了哪些数据集"。越具体的问题，越能得到精准的回答。

**引用论文中的概念**：如果您对论文中的某个术语或概念有疑问，直接在问题中引用它，例如"论文中提到的 'attention mechanism' 具体是如何实现的？"

**追问细节**：不要害怕追问。如果第一次回答不够详细，可以继续问"能否更详细地解释一下这个方法的步骤？"或"这个公式中的各个符号分别代表什么？"

**比较和评价**：您可以请 AI 进行比较分析，例如"这篇论文的方法与 XXX 方法相比有什么优势？"

!!! tip "保持对话连贯"
    PDF 问答依赖对话历史来保持论文上下文。如果您清空了对话历史或开始了新会话，需要重新执行解析流程。建议在完成一篇论文的阅读后再切换到其他任务。

---

## 与相关功能的对比

GPT Academic 提供了多种处理 PDF 的功能，它们各有侧重：

| 功能 | 适用场景 | 文件数量 | 交互方式 |
|-----|---------|:--------:|---------|
| **PDF 问答** | 深度理解单篇论文 | 单篇 | 多轮问答 |
| [批量总结 PDF](pdf_summary.md) | 快速浏览多篇论文 | 多篇 | 单次输出 |
| [PDF 论文翻译](pdf_translation.md) | 将论文翻译成中文 | 单篇/多篇 | 单次输出 |

**如何选择**：

- 如果您需要精读一篇论文、理解细节并有多个问题要问 → 使用 **PDF 问答**
- 如果您需要快速了解多篇论文的大意进行筛选 → 使用 **批量总结 PDF**
- 如果您需要完整阅读论文的中文版本 → 使用 **PDF 论文翻译**

---

## 常见问题

???+ question "解析后对话历史太长，新问题响应变慢"
    这是因为每次对话都需要发送完整的历史记录（包含论文内容）给 API。您可以：
    
    1. 使用支持更大上下文的模型（如 `gpt-4o`）
    2. 对于长论文，选择只关注特定章节进行问答
    3. 完成必要的问答后，保存结果并开始新会话

???+ question "AI 的回答似乎没有基于论文内容"
    可能的原因：
    
    1. **解析未完成**：确保已执行完插件且看到了"接下来，你是一名专业的学术教授..."的提示
    2. **历史被清空**：检查是否不小心清空了对话历史
    3. **问题太宽泛**：尝试提出更具体的、论文中可能涉及的问题

???+ question "PDF 解析失败或内容提取不全"
    - **扫描版 PDF**：本功能需要可检索的文本，扫描件需先 OCR
    - **加密 PDF**：需要先解除密码保护
    - **特殊编码**：某些 PDF 使用非标准字体映射，可能导致乱码，建议转换格式后再试

???+ question "可以同时解析多篇论文进行对比吗？"
    当前版本的 PDF 问答功能一次只处理一篇论文。如果需要对比多篇论文，建议：
    
    1. 分别使用 [批量总结 PDF](pdf_summary.md) 获取各篇摘要
    2. 将摘要复制到对话中，请 AI 进行对比分析
    3. 或者使用 [批量文件询问](batch_file_query.md) 功能进行更灵活的多文件处理

---

## 相关文档

- [批量总结 PDF](pdf_summary.md) — 快速获取多篇论文的概要
- [PDF 论文翻译](pdf_translation.md) — 将 PDF 论文翻译为中文
- [批量文件询问](batch_file_query.md) — 更灵活的多文件处理方式
- [基础操作](../basic_operations.md) — 了解文件上传和对话基础操作


